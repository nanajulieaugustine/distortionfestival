---
import MainLayout from "../Layouts/MainLayout.astro";
import Button from "../components/Button.astro";

const key = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5ma3FwYnJqb21sa2JnbHZ0cXhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc3ODczMzMsImV4cCI6MjA0MzM2MzMzM30.AvtM_0O9qt1OKWaWdtnqaa6WJJrGI_N_E5iW3sylkEg";

const locations = await fetch(`https://nfkqpbrjomlkbglvtqxb.supabase.co/rest/v1/locations`, {
  method: "GET",
  headers: {
    apikey: key,
  },
}).then((response) => response.json());

console.log(locations);
---

<MainLayout>

  <div class="distortion_name">
    <ul>
      {
        locations.map((locations) => (
          <li>
            <h2>{locations.name}</h2>
          </li>
        ))
      }
    </ul>
  </div>

  <div class="about_container">
      {
        locations.map((locations) => (
          <div>
            <h4>ABOUT</h4>
            <p>{locations.description}</p>
          </div>
          <div>
            <h4>ADDRESS</h4>
            <p>{locations.adress}</p>
            <h4>OPENING HOURS</h4>
            <p>{locations.opening_hours}</p>
          </div>
          <div></div>
        ))
      }
  </div>

  <div class="entry_container">
    <ul>
      {
        locations.map((locations) => (
          <li>
            <h2>{locations.entry}</h2>
          </li>
        ))
      }
    </ul>
  </div>
  <Button variant="primary" size="medium">2025 LINEUP</Button>
  <div class="map_container">
    <div>
    <h2>FIND US THROUGH OUR MAP</h2>
      <p>CLICK ON THE VENUE THAT YOU WOULD LIKE TO KNOW MORE ABOUT.</p>
    </div>
    <div>
      <img class="map" src="../images/map.png" alt="map" />
    </div>
  </div>
  
</MainLayout>

<style>

  /*desktop*/

  .about_container{
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    background-color: var(--bg-primary-card-color);
  }

  .entry_container{
    background-image: url("../images/index3.webp");
    background-size: contain;
    background-size: cover;
    background-position: center;
    padding:1rem;
  }

  .map_container{
    display: grid;
    grid-template-columns: 1fr 1fr;
  }

  .map{
    width:80%;
  }

</style>

